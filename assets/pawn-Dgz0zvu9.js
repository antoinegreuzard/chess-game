import{P as p,a as P,b as c}from"./index-4lvVbLC1.js";class g extends p{hasMoved=!1;constructor(t){super(t,P.PAWN)}isValidMove(t,n,s,e,i){const r=this.color===c.WHITE?1:-1,h=this.color===c.WHITE?1:6,l=(e-n)*r,a=Math.abs(s-t);if(a===0&&l===1&&!i.getPiece(s,e))return(this.color===c.WHITE&&e===7||this.color===c.BLACK&&e===0)&&i.getPiece(t,n)?.type===P.PAWN&&this.handlePromotion(s,e,i),!0;if(a===0&&l===2&&n===h&&!i.getPiece(s,e)&&!i.getPiece(t,n+r))return i.updateEnPassantTarget(t,n,s,e,this),!0;if(a===1&&l===1){if(i.getPiece(s,e)&&this.canCapture(s,e,i))return(this.color===c.WHITE&&e===7||this.color===c.BLACK&&e===0&&i.getPiece(t,n)?.type===P.PAWN)&&this.handlePromotion(s,e,i),!0;if(i.isEnPassantMove(t,n,s,e))return!0}return!1}handlePromotion(t,n,s){const e=document.getElementById("promotionDialog");e&&(e.style.display="block",window.promote=i=>{e.style.display="none",s.promotePawn(t,n,i)})}}export{g as Pawn};
//# sourceMappingURL=pawn-Dgz0zvu9.js.map
