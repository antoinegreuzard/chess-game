import{P as p,a as r}from"./index-4lvVbLC1.js";class K extends p{hasMoved=!1;type=r.KING;constructor(t){super(t,r.KING)}isValidMove(t,i,e,c,s){const h=Math.abs(e-t),l=Math.abs(c-i);if(h<=1&&l<=1)return this.canCapture(e,c,s)&&!s.isAdjacentToAnotherKing(e,c,this.color);if(!this.hasMoved&&l===0&&h===2){const o=e>t?1:-1,u=e>t?7:0,a=s.getPiece(u,i);if(a&&a?.type===r.ROOK&&!a.hasMoved){for(let n=t+o;n!==e;n+=o)if(s.getPiece(n,i)||s.isSquareUnderAttack(n,i,this.color))return!1;return!s.isSquareUnderAttack(e,i,this.color)&&!s.isAdjacentToAnotherKing(e,c,this.color)}}return!1}}export{K as King};
//# sourceMappingURL=king-DL6ctWB4.js.map
