import{P as M,a as h}from"./index-BK13SqZY.js";class A extends M{hasMoved=!1;type=h.KING;constructor(t){super(t,h.KING)}isValidMove(t,i,e,n,s){if(e<0||e>=8||n<0||n>=8)return!1;const c=Math.abs(e-t),l=Math.abs(n-i);if(c<=1&&l<=1)return this.canCapture(e,n,s)&&!s.isAdjacentToAnotherKing(e,n,this.color);if(!this.hasMoved&&l===0&&c===2){if(s.isSquareUnderAttack(t,i,this.color))return!1;const u=e>t?1:-1,d=e>t?7:0,r=s.getPiece(d,i);if(r&&r.type===h.ROOK&&!r.hasMoved){for(let a=t+u;a!==e;a+=u)if(s.getPiece(a,i)||s.isSquareUnderAttack(a,i,this.color))return!1;return!s.isSquareUnderAttack(e,i,this.color)&&!s.isAdjacentToAnotherKing(e,n,this.color)}}return!1}static isThreatenedMove(t,i,e,n){const s=Math.abs(e-t),c=Math.abs(n-i);return s<=1&&c<=1}}export{A as King};
//# sourceMappingURL=king-Dz3PBvEr.js.map
