import{P as p,a as P,b as c}from"./index-CIilME9E.js";class g extends p{hasMoved=!1;constructor(t){super(t,P.PAWN)}isValidMove(t,n,s,e,i){const r=this.color===c.WHITE?1:-1,h=this.color===c.WHITE?1:6,a=(e-n)*r,l=Math.abs(s-t);if(l===0&&a===1&&!i.getPiece(s,e))return(this.color===c.WHITE&&e===7||this.color===c.BLACK&&e===0)&&i.getPiece(t,n)?.type===P.PAWN&&this.handlePromotion(s,e,i),!0;if(l===0&&a===2&&n===h&&!i.getPiece(s,e)&&!i.getPiece(t,n+r))return i.updateEnPassantTarget(t,n,s,e,this),!0;if(l===1&&a===1){if(i.getPiece(s,e)&&this.canCapture(s,e,i))return(this.color===c.WHITE&&e===7||this.color===c.BLACK&&e===0&&i.getPiece(t,n)?.type===P.PAWN)&&this.handlePromotion(s,e,i),!0;if(i.isEnPassantMove(t,n,s,e))return!0}return!1}handlePromotion(t,n,s){const e=document.getElementById("promotionDialog");e&&(e.style.display="block",window.promote=async i=>{e.style.display="none",await s.promotePawn(t,n,i)})}}export{g as Pawn};
//# sourceMappingURL=pawn-CfkFp1Mj.js.map
