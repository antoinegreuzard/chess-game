{"version":3,"file":"rook-Dp_TpVkZ.js","sources":["../src/pieces/rook.ts"],"sourcesContent":["// src/pieces/rook.ts\n\nimport { BoardInterface, Piece, PieceColor, PieceType } from '../piece';\nimport { createPiece } from '../utils/pieceFactory';\n\nexport class Rook extends Piece {\n  public readonly type: PieceType = PieceType.ROOK;\n  public hasMoved: boolean = false;\n\n  constructor(color: PieceColor) {\n    super(color, PieceType.ROOK);\n  }\n\n  isValidMove(\n    fromX: number,\n    fromY: number,\n    toX: number,\n    toY: number,\n    board: BoardInterface,\n  ): boolean {\n    const isStraightMove = fromX === toX || fromY === toY;\n    if (!isStraightMove) {\n      return false;\n    }\n\n    const isPathClear = this.isPathClear(fromX, fromY, toX, toY, board);\n    if (!isPathClear) {\n      return false;\n    }\n\n    return this.canCapture(toX, toY, board);\n  }\n\n  public toData(): any {\n    return {\n      ...super.toData(),\n      hasMoved: this.hasMoved,\n    };\n  }\n\n  // Ajuste le type de retour pour inclure Promise<Rook>\n  static async fromData(data: any): Promise<Rook> {\n    const rook = await createPiece(PieceType.ROOK, data.color);\n    rook.hasMoved = data.hasMoved;\n    return rook;\n  }\n}\n"],"names":[],"mappings":";;AAKO,MAAM,aAAa,KAAM,CAAA;AAAA,EACd,OAAkB,SAAU,CAAA,IAAA,CAAA;AAAA,EACrC,QAAoB,GAAA,KAAA,CAAA;AAAA,EAE3B,YAAY,KAAmB,EAAA;AAC7B,IAAM,KAAA,CAAA,KAAA,EAAO,UAAU,IAAI,CAAA,CAAA;AAAA,GAC7B;AAAA,EAEA,WACE,CAAA,KAAA,EACA,KACA,EAAA,GAAA,EACA,KACA,KACS,EAAA;AACT,IAAM,MAAA,cAAA,GAAiB,KAAU,KAAA,GAAA,IAAO,KAAU,KAAA,GAAA,CAAA;AAClD,IAAA,IAAI,CAAC,cAAgB,EAAA;AACnB,MAAO,OAAA,KAAA,CAAA;AAAA,KACT;AAEA,IAAA,MAAM,cAAc,IAAK,CAAA,WAAA,CAAY,OAAO,KAAO,EAAA,GAAA,EAAK,KAAK,KAAK,CAAA,CAAA;AAClE,IAAA,IAAI,CAAC,WAAa,EAAA;AAChB,MAAO,OAAA,KAAA,CAAA;AAAA,KACT;AAEA,IAAA,OAAO,IAAK,CAAA,UAAA,CAAW,GAAK,EAAA,GAAA,EAAK,KAAK,CAAA,CAAA;AAAA,GACxC;AAAA,EAEO,MAAc,GAAA;AACnB,IAAO,OAAA;AAAA,MACL,GAAG,MAAM,MAAO,EAAA;AAAA,MAChB,UAAU,IAAK,CAAA,QAAA;AAAA,KACjB,CAAA;AAAA,GACF;AAAA;AAAA,EAGA,aAAa,SAAS,IAA0B,EAAA;AAC9C,IAAA,MAAM,OAAO,MAAM,WAAA,CAAY,SAAU,CAAA,IAAA,EAAM,KAAK,KAAK,CAAA,CAAA;AACzD,IAAA,IAAA,CAAK,WAAW,IAAK,CAAA,QAAA,CAAA;AACrB,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AACF;;;;"}