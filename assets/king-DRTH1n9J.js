import{P as A,a as r}from"./ai.worker-e4aBx5g4.js";class M extends A{hasMoved=!1;type=r.KING;constructor(i){super(i,r.KING)}isValidMove(i,t,e,n,s){if(e<0||e>=8||n<0||n>=8)return!1;const h=Math.abs(e-i),l=Math.abs(n-t);if(h<=1&&l<=1)return this.canCapture(e,n,s)&&!s.isAdjacentToAnotherKing(e,n,this.color);if(!this.hasMoved&&l===0&&h===2){if(s.isSquareUnderAttack(i,t,this.color))return!1;const u=e>i?1:-1,p=e>i?7:0,a=s.getPiece(p,t);if(a&&a.type===r.ROOK&&!a.hasMoved){for(let c=i+u;c!==e;c+=u)if(s.getPiece(c,t)||s.isSquareUnderAttack(c,t,this.color))return!1;return!s.isSquareUnderAttack(e,t,this.color)&&!s.isAdjacentToAnotherKing(e,n,this.color)}}return!1}}export{M as King};
//# sourceMappingURL=king-DRTH1n9J.js.map
