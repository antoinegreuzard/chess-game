import{P,a as p,b as c}from"./index-DiYJpjLP.js";class d extends P{hasMoved=!1;_toX=null;_toY=null;_board=null;constructor(n){super(n,p.PAWN)}isValidMove(n,t,e,s,i){if(e<0||e>=8||s<0||s>=8)return!1;const u=this.color===c.WHITE?-1:1,h=this.color===c.WHITE?6:1,r=(s-t)*u,a=Math.abs(e-n),l=this.color===c.WHITE?0:7;if(a===0&&r===1&&!i.getPiece(e,s))return s===l?this.handlePromotion(e,s,i):!0;if(a===1&&r===1){if(i.getPiece(e,s)&&this.canCapture(e,s,i))return s===l?this.handlePromotion(e,s,i):!0;if(i.isEnPassantMove(n,t,e,s))return i.captureEnPassantIfValid(n,t,e,s),!0}return a===0&&r===2&&t===h&&!i.getPiece(e,s)&&!i.getPiece(n,t+u)?(i.updateEnPassantTarget(n,t,e,s,this),this.hasMoved=!0,!0):!1}handlePromotion(n,t,e){return this._toX=n,this._toY=t,this._board=e,!0}}export{d as Pawn};
//# sourceMappingURL=pawn-t8jZJY0i.js.map
